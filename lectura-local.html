<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<div id="demo-container">
	<label for="file-input" id="file-input-label">Choose Text File</label>
	<input type="file" id="file-input" accept="text/plain" />
	<div id="contents"></div>
</div>
<style>
table, th, td {
    border: 1px solid black;
  }
</style>
<script type="text/javascript">
document.querySelector("#file-input").addEventListener('change', function() {
	// files that user has chosen
	var all_files = this.files;
	if(all_files.length == 0) {
		alert('Error : No file selected');
		return;
	}
	// first file selected by user
	var file = all_files[0];
	// files types allowed
	var allowed_types = [ 'text/plain' ];
	if(allowed_types.indexOf(file.type) == -1) {
		alert('Error : Incorrect file type');
		return;
	}
	// we will now read the file
	var reader = new FileReader();
	// file reading started
	reader.addEventListener('loadstart', function() {
	    document.querySelector("#file-input-label").style.display = 'none'; 
	});
	// file reading finished successfully
	reader.addEventListener('load', function(e) {
		var text = e.target.result;
		
		// Create table object. 
		var a = document.createElement("TABLE"); 
		a.setAttribute("id", "MyTable"); 
		document.body.appendChild(a); 

		var b = document.createElement("TR");//creo el primer renglon por default 
		b.setAttribute("id", 100); 
		document.getElementById("MyTable").appendChild(b); 
  
        var iter=0;
        var valores=0;   
        var lineas=0; 
        var palabra="";
        while(iter<text.length)
        {
            palabra+=text[iter];//voy leyendo caracteres y armando mi palabra

			if(text[iter]==';' && palabra!="")//si encuentro un nuevo valor
			{ //guardo mi palabra y limpio mi memoria,pero solo si existe!
				var c = document.createElement("TD"); 
				var d = document.createTextNode(palabra.substring(0, palabra.length-1)); 
				c.appendChild(d); 
				document.getElementById(100+lineas).appendChild(c);
				palabra="";//limpiando la memoria
				valores++; 
			}

        	if(text[iter]=='\n')//si encuentro un salto de linea
            {//creo una nueva linea en mi tabla           
            var b = document.createElement("TR"); 
			lineas++; //aumento el contador de lineas en mi tabla
			b.setAttribute("id", lineas+100);
            document.getElementById("MyTable").appendChild(b); 
			}
        iter++; //paso al siguiente caracter
        }  

	});

	// read as text file
	reader.readAsText(file);
});       
</script>
</body>
</html>